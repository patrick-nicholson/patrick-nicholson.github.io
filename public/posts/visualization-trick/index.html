<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  









  



  
  

<link rel="stylesheet" href="https://ptrcknchlsn.xyz/scss/main.min.css" />
  
<meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  

<title>A visualization trick obvious in hindsight</title>


<meta name="author" content="Patrick Nicholson">

<meta name="description" content="Big data scatterplots, demonstrated with SQL and Python">
<link rel="canonical" href="https://ptrcknchlsn.xyz/posts/visualization-trick/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="A visualization trick obvious in hindsight">
<meta property="og:description" content="Big data scatterplots, demonstrated with SQL and Python">
<meta property="og:url" content="https://ptrcknchlsn.xyz/posts/visualization-trick/">
<meta property="article:published_time" content="2023-02-27T00:00:00-05:00">
  <meta property="article:modified_time" content="2023-07-12T17:44:51-04:00">
  

<meta property="og:image" content="https://ptrcknchlsn.xyz/posts/visualization-trick/images/feature.png"/>
  
    <meta property="og:image:alt" content="A scatterpoint of 10.6 million points efficiently drawn via an n-dimensional histogram" />
  



<meta property="og:see_also" content="https://ptrcknchlsn.xyz/posts/universal-reservoir/" /><meta property="og:see_also" content="https://ptrcknchlsn.xyz/posts/bootstrapping-in-sql/" /><meta property="og:see_also" content="https://ptrcknchlsn.xyz/posts/universal-bootstrap/" /><meta property="og:see_also" content="https://ptrcknchlsn.xyz/posts/universal-sampling/" />



<meta name="twitter:title" content="A visualization trick obvious in hindsight">
<meta name="twitter:description" content="Big data scatterplots, demonstrated with SQL and Python">


<meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:image" content="https://ptrcknchlsn.xyz/posts/visualization-trick/images/feature.png"/>
  
    <meta name="twitter:image:alt" content="A scatterpoint of 10.6 million points efficiently drawn via an n-dimensional histogram">
  





  
    
  


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Person",
      "@id": "https://ptrcknchlsn.xyz/#/schema/person/1",
      "name": "Patrick Nicholson",
      "url": "https://ptrcknchlsn.xyz/",
      "image": {
        "@type": "ImageObject",
        "@id": "https://ptrcknchlsn.xyz/#/schema/image/1",
        "url": "https://ptrcknchlsn.xyz/\u003cnil\u003e",
        "width": null ,
        "height": null ,
        "caption": "Patrick Nicholson"
      }
    },
    {
      "@type": "WebSite",
      "@id": "https://ptrcknchlsn.xyz/#/schema/website/1",
      "url": "https://ptrcknchlsn.xyz/",
      "name": "Occasionally clever",
      "description": "The personal blog of Patrick Nicholson",
      "publisher": {
        "@id": "https://ptrcknchlsn.xyz/#/schema/person/1"
      }
    },
    {
      "@type": "WebPage",
      "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/",
      "url": "https://ptrcknchlsn.xyz/posts/visualization-trick/",
      "name": "A visualization trick obvious in hindsight",
      "description": "Big data scatterplots, demonstrated with SQL and Python",
      "isPartOf": {
        "@id": "https://ptrcknchlsn.xyz/#/schema/website/1"
      },
      "about": {
        "@id": "https://ptrcknchlsn.xyz/#/schema/person/1"
      },
      "datePublished": "2023-02-27T00:00:00-05:00",
      "dateModified": "2023-07-12T17:44:51-04:00",
      "breadcrumb": {
        "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/#/schema/image/2"
      },
      "inLanguage": "en-US",
      "potentialAction": [{
        "@type": "ReadAction", "target": ["https://ptrcknchlsn.xyz/posts/visualization-trick/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://ptrcknchlsn.xyz",
          "url": "https://ptrcknchlsn.xyz",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://ptrcknchlsn.xyz/posts/",
          "url": "https://ptrcknchlsn.xyz/posts/",
          "name": "Posts"
          }
        },{
        "@type": "ListItem",
        "position":  4 ,
        "item": {
          "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/"
          }
        }]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Article",
          "@id": "https://ptrcknchlsn.xyz/#/schema/article/1",
          "headline": "A visualization trick obvious in hindsight",
          "description": "Big data scatterplots, demonstrated with SQL and Python",
          "isPartOf": {
            "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/"
          },
          "mainEntityOfPage": {
            "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/"
          },
          "datePublished": "2023-02-27T00:00:00-05:00",
          "dateModified": "2023-07-12T17:44:51-04:00",
          "author": {
            "@id": "https://ptrcknchlsn.xyz/#/schema/person/1"
          },          
          "publisher": {
            "@id": "https://ptrcknchlsn.xyz/#/schema/person/1"
          },
          "image": {
            "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/#/schema/image/2"
          }
        }
      ]
    },{
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "https://ptrcknchlsn.xyz/posts/visualization-trick/#/schema/image/2",
          "url": "https://ptrcknchlsn.xyz/posts/visualization-trick/images/feature.png",
          "contentUrl": "https://ptrcknchlsn.xyz/posts/visualization-trick/images/feature.png",
          "caption": "A scatterpoint of 10.6 million points efficiently drawn via an n-dimensional histogram"
        }
      ]
    }
  ]
}
</script>
  

  

</head><body>
    <header class="container">
  <nav class="main-nav" id="js-navbar">
    
      <a class="logo" href="https://ptrcknchlsn.xyz">Occasionally clever</a>
    
    <ul class="menu" id="js-menu">
      
      
      <li class="menu-item--align">
        <div class="switch">
          <input class="switch-input" type="checkbox" id="themeSwitch">
          <label aria-hidden="true" class="switch-label" for="themeSwitch">On</label>
          <div aria-hidden="true" class="switch-marker"></div>
        </div>
      </li>
    </ul>
    <span class="nav-toggle" id="js-navbar-toggle">
      <svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="30" height="30" fill="var(--color-contrast-high)"><rect y="11" width="24" height="2" rx="1"/><rect y="4" width="24" height="2" rx="1"/><rect y="18" width="24" height="2" rx="1"/></svg>
    </span>
  </nav>
</header><main class="section">
<div class="container">
  <section class="page-header">
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    <h1 class="page-header-title">A visualization trick obvious in hindsight</h1>
    <div class="post-list-meta">
      <div class="post-list-dates">Posted:
  Feb 27, 2023&nbsp;&middot;&nbsp;
    Updated: Jul 12, 2023&nbsp;&middot;&nbsp;3 min.</div>
      
      
    </div>
    <p class="page-header-desc">
      <div class="single-feature-img">



  


<img class="feature-image" 
     srcset="/posts/visualization-trick/images/feature.png 480w, /posts/visualization-trick/images/feature.png 800w"
     sizes="(max-width: 600px) 480px, 800px"
     src="/posts/visualization-trick/images/feature.png"
     alt="A scatterpoint of 10.6 million points efficiently drawn via an n-dimensional histogram">
</div>Data visualization is a key part of every data science and machine learning project. It can be difficult given that we usually have more points to draw than space on screen. Most of us realize pretty quickly that we can summarize data for certain visualizations, the most common being the histogram. What took me an embarrassingly long time to realize is that scatterplots can be easily handled by its generalization: the nd-histogram.</p>
      <div class="series">
        <p>Part of the <a href="https://ptrcknchlsn.xyz/series/universal-sampling/">Universal Sampling</a> series:</p>
        
        <ol class="series-list">
            <li>
                <a href="https://ptrcknchlsn.xyz/posts/universal-sampling/">Universal sampling: better sampling for a better tomorrow</a>
              
            </li>
            <li>
                <a href="https://ptrcknchlsn.xyz/posts/universal-bootstrap/">Universal bootstrap: a superpower</a>
              
            </li>
            <li>
                <a href="https://ptrcknchlsn.xyz/posts/bootstrapping-in-sql/">Bootstrapping in SQL; or, getting s--- done with the tools you have</a>
              
            </li>
            <li>A visualization trick obvious in hindsight<span class="series-this-post">This post!</span>
              
            </li>
            <li>
                <a href="https://ptrcknchlsn.xyz/posts/universal-reservoir/">Universal reservoir: sampling a fixed number of elements from unbounded data</a>
              
            </li>
        </ol>
      </div>
    
    
  </section>
</div>
<div class="single-container-post">
  

  <div class="single-post-contents">
    
    
    <article class="markdown">
        <h1 id="a-visualization-trick-obvious-in-hindsight">A visualization trick obvious in hindsight<a href="#a-visualization-trick-obvious-in-hindsight">
    <svg role="img" aria-labelledby="a-visualization-trick-obvious-in-hindsight-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="a-visualization-trick-obvious-in-hindsight-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h1><p>Data visualization is a key part of every data science and machine learning project. It can be difficult given that we usually have more points to draw than space on screen. Most of us realize pretty quickly that we can summarize data for certain visualizations, the most common being the histogram. What took me an embarrassingly long time to realize is that scatterplots can be easily handled by its generalization: the $nd$-histogram.</p>
<p>Note: The Datashader project has a <a href="https://datashader.org/user_guide/Plotting_Pitfalls.html" target="_blank" rel="noopener">good discussion</a> of issues that worsen as data size increases.</p>


  <span class="code-language">python</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> dask.dataframe <span style="color:#66d9ef">as</span> dd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>matplotlib inline</span></span></code></pre></div>
<h2 id="a-note-on-datashader">A note on Datashader<a href="#a-note-on-datashader">
    <svg role="img" aria-labelledby="a-note-on-datashader-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="a-note-on-datashader-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p><a href="https://datashader.org/" target="_blank" rel="noopener">Datashader</a> is a fantastic project that supports other visualizations using the same principle of pixel-level aggregation of data prior to visualization. It integrates well with PyData tools (<code>pandas</code>, <code>dask</code>, etc.) and other tools within the larger <a href="https://holoviz.org/" target="_blank" rel="noopener">HoloViz</a> project. If that works for you, then you should absolutely take advantage.</p>
<p>However, Datashader isn&rsquo;t always an option. For example, my workflows primarily involve non-Python tools like Spark, Snowflake, and Postgres. The technique described above allows me to efficiently and natively perform aggregations and visualize the results.</p>
<h2 id="approach">Approach<a href="#approach">
    <svg role="img" aria-labelledby="approach-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="approach-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>As an example, I will plot pickups from the <a href="https://www.nyc.gov/site/tlc/about/tlc-trip-record-data.page" target="_blank" rel="noopener">NYC taxi dataset</a> as <a href="https://github.com/holoviz/datashader/blob/main/examples/datasets.yml" target="_blank" rel="noopener">published by Datashader</a>. The data are large enough to require care in my little Docker container.</p>


  <span class="code-language">python</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> dd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#34;data/nyc_taxi.csv&#34;</span>)
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> len(df)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n, df<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">1</span>]</span></span></code></pre></div>
<pre><code>(10679307, 19)
</code></pre>
<p>The process is generalizable from 1 to $n$ columns. In this case, I want to the two-dimensional scatterplot of $x$ and $y$ (longitude and latitude) pickup points.</p>
<p>Traditional $nd$-histograms require the ranges of inputs to properly quantized data. I do not know these <em>a priori</em>, so I must calculate them from the data.</p>


  <span class="code-language">python</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>cols <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;pickup_x&#34;</span>, <span style="color:#e6db74">&#34;pickup_y&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ranges <span style="color:#f92672">=</span> (
</span></span><span style="display:flex;"><span>    df[cols]
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>groupby(<span style="color:#66d9ef">lambda</span> _: <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>agg([<span style="color:#e6db74">&#34;min&#34;</span>, <span style="color:#e6db74">&#34;max&#34;</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>compute()
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>squeeze()
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">.</span>unstack(level<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>)</span></span></code></pre></div>
<p>The quantization process is the same as you have likely worked through for a $1d$-histogram: given a bin count, calculate the bin for a value and replace it the bin&rsquo;s value in the original scale.</p>
<p>The key to using an $nd$-histogram to replace a scatter plot is to use an appropriately large number of bins.</p>


  <span class="code-language">python</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bins <span style="color:#f92672">=</span> <span style="color:#ae81ff">600</span>
</span></span><span style="display:flex;"><span>widths <span style="color:#f92672">=</span> (ranges[<span style="color:#e6db74">&#34;max&#34;</span>] <span style="color:#f92672">-</span> ranges[<span style="color:#e6db74">&#34;min&#34;</span>]) <span style="color:#f92672">/</span> bins
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>quantized <span style="color:#f92672">=</span> (
</span></span><span style="display:flex;"><span>    np<span style="color:#f92672">.</span>minimum((df[cols] <span style="color:#f92672">-</span> ranges[<span style="color:#e6db74">&#34;min&#34;</span>]) <span style="color:#f92672">//</span> widths, bins <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.5</span>
</span></span><span style="display:flex;"><span>) <span style="color:#f92672">*</span> widths
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>points <span style="color:#f92672">=</span> (
</span></span><span style="display:flex;"><span>    quantized<span style="color:#f92672">.</span>groupby(cols)<span style="color:#f92672">.</span>size()<span style="color:#f92672">.</span>to_frame(<span style="color:#e6db74">&#34;weight&#34;</span>)<span style="color:#f92672">.</span>reset_index()<span style="color:#f92672">.</span>compute()
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>len(points)</span></span></code></pre></div>
<pre><code>100539
</code></pre>
<p><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.hist2d.html" target="_blank" rel="noopener"><code>matplotlib</code></a> and <a href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.histogram2d.html" target="_blank" rel="noopener"><code>plotly</code></a>$\dagger$ both natively support two-dimensional histograms. It&rsquo;s trivial to supply our points to one of them.</p>
<p>$\dagger$ Caution! Make sure to read the <code>plotly</code> options and disable certain features when using very high bin counts.</p>


  <span class="code-language">python</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>hist2d(
</span></span><span style="display:flex;"><span>    points[<span style="color:#e6db74">&#34;pickup_x&#34;</span>],
</span></span><span style="display:flex;"><span>    points[<span style="color:#e6db74">&#34;pickup_y&#34;</span>],
</span></span><span style="display:flex;"><span>    bins,
</span></span><span style="display:flex;"><span>    weights<span style="color:#f92672">=</span>points[<span style="color:#e6db74">&#34;weight&#34;</span>],
</span></span><span style="display:flex;"><span>    cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;inferno&#34;</span>,
</span></span><span style="display:flex;"><span>    norm<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;symlog&#34;</span>,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set(
</span></span><span style="display:flex;"><span>    title<span style="color:#f92672">=</span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Plotting </span><span style="color:#e6db74">{</span>n<span style="color:#e6db74">:</span><span style="color:#e6db74">,</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> points in Python&#34;</span>,
</span></span><span style="display:flex;"><span>    xlabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Longitude (m)&#34;</span>,
</span></span><span style="display:flex;"><span>    ylabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Latitiude (m)&#34;</span>,
</span></span><span style="display:flex;"><span>);</span></span></code></pre></div>
<p>
	
	
	<img src="/posts/visualization-trick/images/output_12_0.png"
	width="591"
	height="453"
	
	alt="png" 
	class="single-post-image" 
	loading="lazy"
	decoding="async"
	>
</p>

    </article>
    <aside>
      <div class="single-terms">
        
          
          <a class="term" href="https://ptrcknchlsn.xyz/tags/data-visualization/">data visualization</a></li>
          
          <a class="term" href="https://ptrcknchlsn.xyz/tags/big-data/">big data</a></li>
          
        
      </div>
      
  
  
  

  <section>
    <h2>Share</h2>
    <div class="social-links">
      <ul class="social-icons--share">
        
        
        
        
        
        
        
        
        <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fptrcknchlsn.xyz%2fposts%2fvisualization-trick%2f&amp;source=https%3a%2f%2fptrcknchlsn.xyz%2fposts%2fvisualization-trick%2f&amp;title=A%20visualization%20trick%20obvious%20in%20hindsight&amp;summary=A%20visualization%20trick%20obvious%20in%20hindsight" target="_blank" rel="noopener" aria-label="Share on LinkedIn" class="social-btn linkedin">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352" fill="var(--color-primary)"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg></li>
        </a>
        
        
        
        <a href="mailto:?subject=Occasionally%20clever%20-%20A%20visualization%20trick%20obvious%20in%20hindsight.&amp;body=A%20visualization%20trick%20obvious%20in%20hindsight%2c%20by%20Occasionally%20clever%0aBig%20data%20scatterplots%2c%20demonstrated%20with%20SQL%20and%20Python%0a%0ahttps%3a%2f%2fptrcknchlsn.xyz%2fposts%2fvisualization-trick%2f%0a" target="_blank" class="social-btn email">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-mail" width="24" height="24" viewBox="0 0 416 288" fill="var(--color-primary)"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg></li>
        </a>
      </ul>
    </div>
  </section>
  
        <div class="series">
          <p>Part of the <a href="https://ptrcknchlsn.xyz/series/universal-sampling/">Universal Sampling</a> series:</p>
          
          <ol>
              <li>
                  <a href="https://ptrcknchlsn.xyz/posts/universal-sampling/">Universal sampling: better sampling for a better tomorrow</a>
                
              </li>
              <li>
                  <a href="https://ptrcknchlsn.xyz/posts/universal-bootstrap/">Universal bootstrap: a superpower</a>
                
              </li>
              <li>
                  <a href="https://ptrcknchlsn.xyz/posts/bootstrapping-in-sql/">Bootstrapping in SQL; or, getting s--- done with the tools you have</a>
                
              </li>
              <li>A visualization trick obvious in hindsight<span class="series-this-post">This post!</span>
                
              </li>
              <li>
                  <a href="https://ptrcknchlsn.xyz/posts/universal-reservoir/">Universal reservoir: sampling a fixed number of elements from unbounded data</a>
                
              </li>
          </ol>
        </div>
      
      
    </aside>
  </div>
</div>

    </main><footer>
    
    <div class="section footer">
      <p class="footer-copyright">&copy; 2023 &middot; 
        Patrick Nicholson
        
      </p>
      
        <div class="footer-socials">
          
<div class="social-links">
  <ul class="social-icons">
    
    

    
    
    <li>
      <a href="https://github.com/patrick-nicholson" target="_blank" rel="noopener" aria-label="Visit Github profile" class="social-btn github">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-github" width="24" height="24" viewBox="0 0 24 24" fill="var(--color-primary)"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
    </li>
    

    
    

    
    
    <li>
      <a href="https://www.linkedin.com/in/nicholsonpatrick" target="_blank" rel="noopener" aria-label="Visit LinkedIn profile" class="social-btn linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352" fill="var(--color-primary)"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg>
        </a>
    </li>
    

    
    
    <li>
      <a href="mailto:?to=patrick.nicholson%40outlook.com" target="_blank" class="social-btn email">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-mail" width="24" height="24" viewBox="0 0 416 288" fill="var(--color-primary)"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg>
      </a>
    </li>
    
  </ul>
</div>
        </div>
      
    </div>
  </footer>

  








  
  
    

<script src="https://ptrcknchlsn.xyz/main.min.js"></script>



  
</body>
</html>
